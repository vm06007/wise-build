(this.webpackJsonpundefined=this.webpackJsonpundefined||[]).push([[29],{1264:function(e,t,a){"use strict";a.r(t),a.d(t,"injectedConnector",(function(){return I})),a.d(t,"default",(function(){return T}));var n=a(83),r=a(6),c=a.n(r),s=a(159),o=a(30),i=a(0),l=a.n(i),m=a(97),u=a.n(m),d=a(778),f=a.n(d),p=a(804),b=a(781),h=a(761),v=a(45),O=a(841),E=a(91),x=a(360),j=a(22),y=a(796),N=a(795),g=a(186),k=a(183),S=a(812),w=a(72),I=new E.a({supportedChainIds:[1,3,4,5,42]}),D="",C=0;function T(e){var t=Object(x.a)().formatMessage,a=Object(v.b)(),r=a.chainId,m=a.account,d=a.active,E=Object(O.a)(p.a)({color:"#dc004d",marginLeft:"1em"}),I=Object(k.a)(parseInt(r)||1),T=u.a.givenProvider?new u.a(u.a.givenProvider):new u.a(new u.a.providers.HttpProvider(I.infuraURL)),M=m||I.zeroAddress,W=Object(i.useState)(0),A=Object(o.a)(W,2),z=A[0],R=A[1],L=Object(i.useState)(0),F=Object(o.a)(L,2),P=F[0],B=F[1],G=Object(i.useState)(-1),H=Object(o.a)(G,2),U=H[0],V=H[1],K=Object(i.useState)(!1),_=Object(o.a)(K,2),q=_[0],Y=_[1],$=Object(i.useState)("GET YOUR WISE TOKENS NOW!"),J=Object(o.a)($,2),Q=J[0],X=J[1],Z=Object(i.useState)(""),ee=Object(o.a)(Z,2),te=ee[0],ae=ee[1],ne=Object(i.useState)(!1),re=Object(o.a)(ne,2),ce=re[0],se=re[1];console.log(ce,"refetch");var oe=Object(i.useState)([]),ie=Object(o.a)(oe,2),le=ie[0],me=ie[1],ue=Object(i.useState)(!1),de=Object(o.a)(ue,2),fe=de[0],pe=de[1],be=Object(i.useRef)(!0),he=new T.eth.Contract(N,I.address),ve=new T.eth.Contract(g,I.tokenAddress);Object(i.useEffect)((function(){return function(){be.current=!1}}),[]);var Oe={NORMAL:{text:"GET YOUR WISE TOKENS NOW!",disabled:!1},DONE:{text:"WISE COLLECTED",disabled:!0},ISSUED:{text:"ALREADY ISSUED",disabled:!0},CONFIRM:{text:"CONFIRM TRANSACTION",disabled:!0},CLAIMING:{text:"CLAIMING WISE TOKENS...",disabled:!0}},Ee=function(e){Ne((function(t){Ne(e),Y(Oe[e].disabled),X(Oe[e].text)}))},xe=Object(i.useState)("NORMAL"),je=Object(o.a)(xe,2),ye=je[0],Ne=je[1];"WISE"===ye&&console.log(ye,"buttonState");var ge=function(){var e=Object(s.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ee("CONFIRM"),D="",C=0,he.methods.$getMyTokens().send({from:m}).on("transactionHash",(function(e){be.current&&(ae(e),Ee("CLAIMING"),D=e)})).on("confirmation",(function(e,t){t.transactionHash===D&&C++,be.current&&1===C&&Ee("DONE")})).on("receipt",(function(e){})).on("error",(function(e){be.current&&(Ee("NORMAL"),ae(null))}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){r&&m&&function(){var e=Object(s.a)(c.a.mark((function e(t){var a,r,s,o,i,l,u,d,f,p,b,h,v;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.methods.referralTokens(m).call();case 3:return a=e.sent,console.log(a,"referralAmount"),e.next=7,T.eth.getBlock("latest");case 7:return r=e.sent,s={fromBlock:I.fromBlock,toBlock:r.number,filter:{sender:M}},o={fromBlock:I.fromBlockShifted,toBlock:r.number,filter:{from:I.zeroAddress,to:m}},e.next=12,Object(y.a)(he,"WiseReservation",s);case 12:return i=e.sent,e.next=15,Object(y.a)(ve,"Transfer",o);case 15:return l=e.sent,e.next=18,he.methods.g().call();case 18:return(u=e.sent).preparedReferrals>0&&"0"===u.totalWeiContributed&&pe(!0),e.next=22,he.methods.supplyOnAllDays().call();case 22:d=e.sent,f=Object(n.a)(d),p=function(e){return parseInt(f[e])>0?T.utils.fromWei(f[e]):S.a[e].minRaw},b=i.reduce((function(e,t){return e+t.returnValues.amount/le[t.returnValues.investmentDay]*p(t.returnValues.investmentDay)}),0),l.length>0&&b>0&&(Ee("ISSUED"),ae(l[0].transactionHash)),R(b),B(a),h=parseFloat(b)+parseFloat(T.utils.fromWei(a.toString())),v=Object(w.j)(h),V(h.toLocaleString(void 0,{minimumFractionDigits:v,maximumFractionDigits:v})),e.next=39;break;case 34:e.prev=34,e.t0=e.catch(0),B("0.00"),R("0.00"),console.log("investments: ",e.t0);case 39:case"end":return e.stop()}}),e,null,[[0,34]])})));return function(t){return e.apply(this,arguments)}}()()}),[le]),Object(i.useEffect)((function(){(function(){var e=Object(s.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.methods.investmentsOnAllDays().call();case 3:t=e.sent,me(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("investmentsOnAllDays: ",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[r,m]),Object(i.useEffect)((function(){se((function(e){return!e}))}),[m,r,d]),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"invisible-extra"},l.a.createElement(b.a,{className:"overflow-visible m-3"},l.a.createElement("span",{className:"ribbon-horizontal font-size-lg ribbon-horizontal--primary bg-plum-plate mt-2"},l.a.createElement("span",null,"Claiming WISE Tokens ",!0===fe?"(Opened)":"(Pending)")),l.a.createElement("div",{className:"card-img-wrapper"},l.a.createElement("div",{className:"text-center px-5 pt-5 pb-4 card-img-wrapper"},l.a.createElement("div",{className:"d-60 hidden rounded-circle border-0 my-2 card-icon-wrapper bg-primary text-white btn-icon mx-auto text-center"},l.a.createElement(j.a,{icon:["fas","cubes"],className:"font-size-xl"})),l.a.createElement("div",{className:"hidden font-weight-bold font-size-lg mt-4"},"Claiming Process"),!0===fe&&l.a.createElement("p",{className:"mt-5 pt-1 mb-2"},"WISE is ready for distribution, meaning the connection between two main contracts has been established and all the necessary steps for the liquidity transformation are now done."),!1===fe&&l.a.createElement("p",{className:"mt-5 pt-1 mb-2"},"At this point once the liquidity is formed and forwarded to Uniswap you may start claiming your tokens! Review the contracts and status below before claiming tokens."),l.a.createElement("div",{className:"pt-3"},l.a.createElement("div",{className:"d-flex justify-content-center align-items-center"},l.a.createElement("div",{className:"pr-1"},l.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"".concat(I.etherScan,"/address/").concat(I.address)},l.a.createElement("div",{className:"btn-hover-teal badge badge-primary mb-2 px-4 h-auto py-2 font-size-xs badge-pill"},t({id:"app.labels.liquidityTransformer",defaultMessage:"Liquidity Transformer"})))),l.a.createElement("div",null,l.a.createElement(j.a,{icon:["fas","arrows-alt-h"],className:"font-size-xl text-black-50"})),l.a.createElement("div",{className:"pl-1"},l.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"".concat(I.etherScan,"/address/").concat(I.tokenAddress)},l.a.createElement("div",{className:"btn-hover-teal badge badge-primary mb-2 px-4 h-auto py-2 font-size-xs badge-pill"},"Wise Token Contract"))))),l.a.createElement("div",null,l.a.createElement("h3",{className:"hidden font-size-xxl text-uppercase my-4 font-weight-bold text-primary"},m),l.a.createElement("div",{className:"bg-neutral-new p-3 rounded mb-2 mt-4 py-4"},l.a.createElement("span",{className:"display-3 font-weight-bold"},parseFloat(U)>-1?"".concat(U," WISE"):"Calculating..."),l.a.createElement("div",{className:"text-black-50"},"WISE token amount expected for your wallet ",m)),l.a.createElement("ul",{className:"list-unstyled text-center mb-3 font-size-sm"},l.a.createElement("li",{className:"px-2 py-2"},l.a.createElement(j.a,{icon:["far","check-circle"],className:"text-success mr-2"}),"Reservations ",Object(w.h)(z)," WISE + Referrals ",P>0?"".concat(Object(w.f)(P.toString(),null,T)," WISE"):"")),l.a.createElement(h.a,{onClick:ge,size:"large",fullWidth:!0,disabled:q||U<1||!1===fe,className:"btn-primary btn-hover-teal font-weight-bold font-size-md"},Q,"CLAIMING WISE TOKENS..."===Q?l.a.createElement(E,{size:25}):null),te?l.a.createElement("div",{className:"mt-3"},l.a.createElement("a",{href:"".concat(I.etherScan,"/tx/").concat(te),target:"_blank",rel:"noopener noreferrer"},"CLAIMING WISE TOKENS..."===Q?"View Transaction":"Transaction Completed"," ",l.a.createElement(f.a,null))):null))))))}},778:function(e,t,a){"use strict";var n=a(50);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(0)),c=(0,n(a(58)).default)(r.default.createElement("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"}),"Link");t.default=c},804:function(e,t,a){"use strict";var n=a(2),r=a(16),c=a(0),s=(a(14),a(11)),o=a(28),i=a(47);function l(e){var t,a,n;return t=e,a=0,n=1,e=(Math.min(Math.max(a,t),n)-a)/(n-a),e=(e-=1)*e*e+1}var m=c.forwardRef((function(e,t){var a,o=e.classes,m=e.className,u=e.color,d=void 0===u?"primary":u,f=e.disableShrink,p=void 0!==f&&f,b=e.size,h=void 0===b?40:b,v=e.style,O=e.thickness,E=void 0===O?3.6:O,x=e.value,j=void 0===x?0:x,y=e.variant,N=void 0===y?"indeterminate":y,g=Object(r.a)(e,["classes","className","color","disableShrink","size","style","thickness","value","variant"]),k={},S={},w={};if("determinate"===N||"static"===N){var I=2*Math.PI*((44-E)/2);k.strokeDasharray=I.toFixed(3),w["aria-valuenow"]=Math.round(j),"static"===N?(k.strokeDashoffset="".concat(((100-j)/100*I).toFixed(3),"px"),S.transform="rotate(-90deg)"):(k.strokeDashoffset="".concat((a=(100-j)/100,a*a*I).toFixed(3),"px"),S.transform="rotate(".concat((270*l(j/70)).toFixed(3),"deg)"))}return c.createElement("div",Object(n.a)({className:Object(s.a)(o.root,m,"inherit"!==d&&o["color".concat(Object(i.a)(d))],{indeterminate:o.indeterminate,static:o.static}[N]),style:Object(n.a)(Object(n.a)({width:h,height:h},S),v),ref:t,role:"progressbar"},w,g),c.createElement("svg",{className:o.svg,viewBox:"".concat(22," ").concat(22," ").concat(44," ").concat(44)},c.createElement("circle",{className:Object(s.a)(o.circle,p&&o.circleDisableShrink,{indeterminate:o.circleIndeterminate,static:o.circleStatic}[N]),style:k,cx:44,cy:44,r:(44-E)/2,fill:"none",strokeWidth:E})))}));t.a=Object(o.a)((function(e){return{root:{display:"inline-block"},static:{transition:e.transitions.create("transform")},indeterminate:{animation:"$circular-rotate 1.4s linear infinite"},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},svg:{display:"block"},circle:{stroke:"currentColor"},circleStatic:{transition:e.transitions.create("stroke-dashoffset")},circleIndeterminate:{animation:"$circular-dash 1.4s ease-in-out infinite",strokeDasharray:"80px, 200px",strokeDashoffset:"0px"},"@keyframes circular-rotate":{"100%":{transform:"rotate(360deg)"}},"@keyframes circular-dash":{"0%":{strokeDasharray:"1px, 200px",strokeDashoffset:"0px"},"50%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-15px"},"100%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-125px"}},circleDisableShrink:{animation:"none"}}}),{name:"MuiCircularProgress",flip:!1})(m)},841:function(e,t,a){"use strict";var n=a(2),r=a(16),c=a(0),s=a.n(c),o=a(11),i=(a(14),a(92)),l=a.n(i),m=a(770);function u(e,t){var a={};return Object.keys(e).forEach((function(n){-1===t.indexOf(n)&&(a[n]=e[n])})),a}var d=a(185);t.a=function(e){var t=function(e){return function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=a.name,i=Object(r.a)(a,["name"]);var d,f=c,p="function"===typeof t?function(e){return{root:function(a){return t(Object(n.a)({theme:e},a))}}}:{root:t},b=Object(m.a)(p,Object(n.a)({Component:e,name:c||e.displayName,classNamePrefix:f},i));t.filterProps&&(d=t.filterProps,delete t.filterProps),t.propTypes&&(t.propTypes,delete t.propTypes);var h=s.a.forwardRef((function(t,a){var c=t.children,i=t.className,l=t.clone,m=t.component,f=Object(r.a)(t,["children","className","clone","component"]),p=b(t),h=Object(o.a)(p.root,i),v=f;if(d&&(v=u(v,d)),l)return s.a.cloneElement(c,Object(n.a)({className:Object(o.a)(c.props.className,h)},v));if("function"===typeof c)return c(Object(n.a)({className:h},v));var O=m||e;return s.a.createElement(O,Object(n.a)({ref:a,className:h},v),c)}));return l()(h,e),h}}(e);return function(e,a){return t(e,Object(n.a)({defaultTheme:d.a},a))}}}}]);