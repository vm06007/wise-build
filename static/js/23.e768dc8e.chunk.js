(this.webpackJsonpundefined=this.webpackJsonpundefined||[]).push([[23],{1177:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return oe}));var n=t(27),r=t(0),l=t.n(r),c=t(10),i=t(767),o=t(23),s=t(84),u=t(111),m=t(6),d=t.n(m),f=t(158),b=t(18),p=t(805),v=t(819),g=t(26),O=t(841),E=t(183),h=t(787),j=t.n(h),N=t(49),k=t(98),S=t.n(k),w=t(791),y=t(815),A=t(185),x=t(776),C=t(1170),D=t(1159),R=t(1160),T=t(748),I=t(773),L=t(777),F=t(780),M=t(941),B=t.n(M),P=t(144),z=t.n(P),_=t(141),W=t.n(_),V=t(201),U=t.n(V),H=t(252),K=t(808),G=t(130),Y=t.n(G),J=t(119),q=t(801),Q=t(1169),X=t(1143);function Z(e){var a=parseInt(e.finalDuration),t=Object(r.useState)(new Date((new Date).getTime()+864e5*a+864e5)),c=Object(n.a)(t,2),i=c[0],o=c[1];Object(r.useEffect)((function(){o(new Date((new Date).getTime()+864e5*a+864e5))}),[a]);var s=e.handleDaysChange,u=e.classes||"cursor-pointer",m=e.label||"Staking Duration",d=Object(r.useState)(!1),f=Object(n.a)(d,2),b=f[0],p=f[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"d-flex font-size-lg align-items-center justify-content-center flex-wrap"},l.a.createElement(q.a,{utils:X.a},l.a.createElement("div",{className:"cursor-pointer"},l.a.createElement(Q.a,{className:"cursor-pointer",TextFieldComponent:function(e){return l.a.createElement(C.a,Object.assign({},e,{disabled:!0}))},disablePast:!0,InputProps:{classes:{input:u}},onClick:function(){return p(!0)},onClose:function(){return p(!1)},maxDate:new Date((new Date).getTime()+864e5+1324512e6),minDate:new Date((new Date).getTime()+864e5),showTodayButton:!0,id:"date-picker-dialog",open:b,label:m,format:"dd/MM/yyyy",value:i,onChange:function(e){var a=new Date((new Date).getTime()),t=(e.getTime()-a.getTime())/864e5;o(e),s(parseInt(t))},KeyboardButtonProps:{"aria-label":"Change Date"}})))))}var $=t(821),ee=t.n($),ae=Object(r.lazy)((function(){return Promise.all([t.e(5),t.e(8),t.e(28)]).then(t.bind(null,1139))})),te=[{value:"2",label:"2 Stakes"},{value:"3",label:"3 Stakes"},{value:"4",label:"4 Stakes"},{value:"5",label:"5 Stakes"},{value:"6",label:"6 Stakes"},{value:"7",label:"7 Stakes"},{value:"8",label:"8 Stakes"},{value:"9",label:"9 Stakes"}],ne=function(e){e.inputRef;var a=e.onChange,t=Object(p.a)(e,["inputRef","onChange"]);return l.a.createElement(v.a,Object.assign({},t,{allowNegative:!1,decimalScale:2,onValueChange:function(t){a({target:{name:e.name,value:t.value}})},fixedDecimalScale:!0,thousandSeparator:!0,isNumericString:!0}))},re=[{value:1,label:"Wise Team Referral"},{value:2,label:"Latest Staker Addy"}];function le(){var e=Object(N.b)(),a=e.chainId,t=e.account,m=Object(E.a)(a),p=S.a.givenProvider?new S.a(S.a.givenProvider):new S.a(new S.a.providers.HttpProvider(m.infuraURL)),v=Object(O.a)(y.a)({color:"#dc004d",marginLeft:"1em"}),h=Object(r.useRef)(!0),k=Object(r.useState)(),M=Object(n.a)(k,2),P=M[0],_=M[1],V=Object(r.useState)(365),G=Object(n.a)(V,2),q=G[0],Q=G[1],X=function(e,a,t,n){je(e),we(a),Ce(t),Ie(n),oe(!ie)},$=new p.eth.Contract(A,m.tokenAddress),le=Object(r.useState)(!1),ce=Object(n.a)(le,2),ie=ce[0],oe=ce[1];Object(r.useEffect)((function(){(function(){var e=Object(f.a)(d.a.mark((function e(){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return e.next=3,$.methods.balanceOf(t).call();case 3:a=e.sent,_(p.utils.fromWei(a));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[a,t]);var se=Object(r.useState)("6"),ue=Object(n.a)(se,2),me=ue[0],de=ue[1],fe=Object(K.a)("w"),be=Object(r.useState)(fe||"0x641AD78BAca220C5BD28b51Ce8e0F495e85Fe689"),pe=Object(n.a)(be,2),ve=pe[0],ge=pe[1],Oe=Object(r.useState)(0),Ee=Object(n.a)(Oe,2),he=Ee[0],je=Ee[1],Ne=Object(r.useState)(0),ke=Object(n.a)(Ne,2),Se=ke[0],we=ke[1],ye=Object(r.useState)(0),Ae=Object(n.a)(ye,2),xe=Ae[0],Ce=Ae[1],De=Object(r.useState)(fe||"0x641AD78BAca220C5BD28b51Ce8e0F495e85Fe689"),Re=Object(n.a)(De,2),Te=Re[0],Ie=Re[1],Le=Object(r.useState)([{amount:5e3,days:65,open:!1,referral:ve,main:""},{amount:5e3,days:125,open:!1,referral:ve,main:""},{amount:5e3,days:185,open:!1,referral:ve,main:""},{amount:5e3,days:245,open:!1,referral:ve,main:""},{amount:5e3,days:305,open:!1,referral:ve,main:""},{amount:5e3,days:365,open:!1,referral:ve,main:""}]),Fe=Object(n.a)(Le,2),Me=Fe[0],Be=Fe[1],Pe=function(){var e=Object(f.a)(d.a.mark((function e(a){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={fromBlock:m.fromBlockShifted,toBlock:"latest"},e.next=3,$.getPastEvents("StakeStart",n).then((function(e){if(2===a)t=e[e.length-1].returnValues.stakerAddress;else{var n=Math.floor(Math.random()*m.teamAddresses.length);t=m.teamAddresses[n]}Qe(null)}));case 3:Qe(null),ge(t),Ea("NORMAL"),Be((function(e){return e.map((function(e){return Object(b.a)(Object(b.a)({},e),{},{referral:t})}))}));case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),ze=Object(r.useState)({amount:"30000",count:"3"}),_e=Object(n.a)(ze,2),We=_e[0],Ve=_e[1],Ue=Object(r.useState)(!1),He=Object(n.a)(Ue,2),Ke=He[0],Ge=He[1],Ye=Object(r.useState)(null),Je=Object(n.a)(Ye,2),qe=Je[0],Qe=Je[1],Xe=function(e){Qe(e.currentTarget)},Ze=Object(r.useState)(365),$e=Object(n.a)(Ze,2),ea=$e[0],aa=$e[1],ta=Object(r.useState)(!1),na=Object(n.a)(ta,2),ra=na[0],la=na[1],ca=Object(r.useState)("Create 6 Regular Stakes"),ia=Object(n.a)(ca,2),oa=ia[0],sa=ia[1],ua=Object(r.useState)(null),ma=Object(n.a)(ua,2),da=ma[0],fa=ma[1],ba={SELF_REFERRAL:{text:"Self-Referral Detected",info:"Self-referrals are not allowed, please use a different <b>referral address</b>.",disabled:!0},INVALID_REFERRAL:{text:"Invalid Referral",info:"The <b>referral address</b> is invalid.",disabled:!0},LESS_BALANCE:{text:"Insufficient Balance",info:"defaultLessBalance",disabled:!0},NO_AMOUNT:{text:"Provide Staking Amount",info:"defaultNoAmount",disabled:!0},NO_DURATION:{text:"Provide Staking Duration",info:"Please input <b>Staking Duration</b> into the corresponding field above. Your stake duration can span between 1 and ".concat("15,330"," days long which is about 42 years \ud83d\ude80"),disabled:!0},DAYS_LIMIT:{text:"Duration limit breached",info:"Stake duration is exceeding maximum staking time which is <b>".concat("15,330"," days</b> for <b>").concat("Regular"," Stake</b>. Please decrease staking duration to appropriate value."),disabled:!0},NORMAL:{text:oa,info:"",disabled:!1},CONFIRM_TRANSACTION:{text:"Confirm Transaction",info:"Staking transaction needs to be confirmed from your wallet interface, please click <b>Confirm</b> or reject within your wallet interface when prompted.",disabled:!0},STAKING:{text:"Staking In Progress",info:"Transaction is now in progress, to check status of this transaction and verify it please click on the <b>View Transaction</b> link below the button.",disabled:!0},DONE:{text:"DONE",info:"Staking transaction is now confirmed and completed. Click the <b>Done</b> button below to stake again or click the <b>Transaction Completed</b> link to verify results.",disabled:!1}},pa=Object(r.useState)("NORMAL"),va=Object(n.a)(pa,2),ga=va[0],Oa=va[1],Ea=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Oa((function(t){var n=!0;"STAKING"===t&&"DONE"!==e&&(n=!1),"CONFIRM_TRANSACTION"===t&&"STAKING"!==e&&"APPROVE"!==e&&null===a&&(n=!1);var r=n?e:t;Oa(r),la(ba[r].disabled),sa(ba[r].text),"NORMAL"===e&&!0===n&&sa("Create ".concat(me," Regular Stakes"))}))},ha="",ja=0,Na=function(){Ea("CONFIRM_TRANSACTION");var e=Me.map((function(e){return p.utils.toWei(e.amount.toString())})),a=Me.map((function(e){return e.days.toString()})),n=Me.map((function(e){return p.utils.isAddress(e.referral)?e.referral:"0x641AD78BAca220C5BD28b51Ce8e0F495e85Fe689"}));$.methods.createStakeBulk(e,a,n).send({from:t}).on("transactionHash",(function(e){h.current&&(fa(e),Ea("STAKING"),ha=e)})).on("confirmation",(function(e,a){a.transactionHash===ha&&(ja++,console.log(ja)),h.current&&1===ja&&Ea("DONE")})).on("error",(function(e){h.current&&(Ea("NORMAL",!0),fa(null))}))};return l.a.createElement(l.a.Fragment,null,l.a.createElement(Y.a,null,l.a.createElement("div",{className:"card-header rounded-0 bg-white px-4 py-0 border-bottom"},l.a.createElement("div",{className:"py-0 w-100"},l.a.createElement(x.a,{container:!0,spacing:6},l.a.createElement(x.a,{item:!0,md:12,lg:12,className:"mb-5"},l.a.createElement("div",{className:"dashboard-header mt-5 pt-5"},l.a.createElement(J.d,{titleHeading:"Bulk Staking",titleDescription:"Create your ultimate staking strategy",titleIcon:"UpdateTwoToneIcon"}))),l.a.createElement(x.a,{item:!0,md:12,lg:12,className:"pt-0 d-flex flex-space-between"},l.a.createElement("div",{className:"ml-1 w-20"},l.a.createElement(C.a,{label:"Staking Amount",defaultValue:We.amount,value:We.amount,name:"fieldA",onFocus:function(){return Ge(!0)},onBlur:function(){return Ge(!1)},onChange:function(e){!function(e,a){if(!0===Ke){Ve(Object(b.a)(Object(b.a)({},We),{},Object(u.a)({},e,a.target.value)));var t=a.target.value/me;Be((function(e){return e.map((function(e){return Object(b.a)(Object(b.a)({},e),{},{amount:t})}))})),Ea("NORMAL")}}("amount",e)},id:"standard-start-adornment-0",InputLabelProps:{shrink:!!We.amount},InputProps:{classes:{input:"font-weight-bold font-size-xl"},defaultValue:3e4,value:We.amount,inputComponent:ne,endAdornment:l.a.createElement(D.a,{position:"end",className:"mr-3 mb-0 pb-0"},"WISE")}})),l.a.createElement("div",{className:""},l.a.createElement(Z,{finalDuration:q,label:"Staking Till",classes:"cursor-pointer font-weight-bold font-size-xl text-black-i",handleDaysChange:function(e){var a=parseInt(e/me);aa(e),Be((function(t){return t.map((function(n,r){return Object(b.a)(Object(b.a)({},n),{},{days:e-a*(t.length-1-r)})}))})),Ea("NORMAL")}})),l.a.createElement("div",null,l.a.createElement(C.a,{fullWidth:!0,margin:"normal",className:"mt-0 mr-5 w-100",id:"standard-select-currency",select:!0,InputProps:{classes:{input:"font-weight-bold font-size-xl"}},label:"Stake Count",value:me,onChange:function(e){var a=We.amount/e.target.value,t=parseInt(ea/e.target.value);de(e.target.value),"NORMAL"===ga&&sa("Create ".concat(e.target.value," Regular Stakes")),Be((function(n){return new Array(parseInt(e.target.value)).fill().map((function(n,r){return{amount:a,days:ea-t*(e.target.value-1-r),referral:ve,main:""}}))}))}},te.map((function(e){return l.a.createElement(R.a,{key:e.value,value:e.value},e.label)})))),l.a.createElement("div",{className:"mr-1"},l.a.createElement(C.a,{disabled:!0,onClick:Xe,className:"cursor-pointer adjust-2px",label:"Referral Address",value:[].concat(Object(s.a)(ve.split("").slice(0,8)),["..."],Object(s.a)(ve.split("").slice(36))).join(""),id:"standard-start-adornment-3",InputProps:{classes:{input:"cursor-pointer font-weight-bold font-size-lg"},endAdornment:l.a.createElement(D.a,{position:"end",className:"mr-3"},l.a.createElement(ee.a,{className:"cursor-pointer text-black opacity-6",onClick:Xe}),l.a.createElement(T.a,{anchorEl:qe,getContentAnchorEl:null,anchorOrigin:{vertical:"center",horizontal:"center"},transformOrigin:{vertical:"center",horizontal:"center"},onChange:Pe,open:Boolean(qe),classes:{list:"p-0"},onClose:function(){Qe(null)}},re.map((function(e){return l.a.createElement(R.a,{key:e.value,onClick:function(){return Pe(e.value)}},e.label)}))))}}))),l.a.createElement(x.a,{item:!0,md:12,lg:12,className:"pt-0"},l.a.createElement("div",{className:"accordion mb-spacing-6-x2 mb-1"},Me.map((function(e,a){return l.a.createElement(I.a,{key:a,className:Object(c.a)("card-box",{"panel-open":e.open})},l.a.createElement(I.a,{className:"hover-opacity-9 ".concat(e.open?"opacity-9":"opacity-3")},l.a.createElement("div",{className:"card-header"},l.a.createElement("div",{className:"panel-title"},l.a.createElement("div",{className:"accordion-toggle "},l.a.createElement(i.a,{variant:"text",size:"large",className:"btn-link font-weight-bold d-flex align-items-center justify-content-between btn-transition-none",onClick:function(){return e=a,void Be((function(a){return a.map((function(a,t){return Object(b.a)(Object(b.a)({},a),{},{open:e===t&&!a.open})}))}));var e},"aria-expanded":e.open},l.a.createElement("div",{className:"w-100 mr-5"},l.a.createElement("div",{className:"d-flex flex-space-between w-100"},l.a.createElement("div",{className:"mr-4 w-17"},l.a.createElement(z.a,null)," ",e.amount.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})," WISE"),l.a.createElement("div",{className:"mr-5 w-15"},l.a.createElement(B.a,null)," ",e.days.toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:0})," DAYS"),l.a.createElement("div",{className:"mr-5"},l.a.createElement(U.a,null)," # ",a+1),l.a.createElement("div",{className:"mr-5 hidden"},"START ",l.a.createElement(B.a,null),"  12.02.2021"),l.a.createElement("div",{className:"mr-5 hidden"},"FINISH ",l.a.createElement(B.a,null)," 12.02.2022"),l.a.createElement("div",null,l.a.createElement(W.a,null)," ",l.a.createElement(H.a,{v:e.referral})))),l.a.createElement(o.a,{icon:["fas","angle-up"],className:"font-size-xl accordion-icon"}))))),l.a.createElement(L.a,{in:e.open},l.a.createElement("div",{className:"p-4 ml-3"},l.a.createElement("div",{className:"d-flex w-100 flex-space-between"},l.a.createElement("span",null,"You can edit this stake and check for more details by pressing ",l.a.createElement("b",null,"Adjust Stake")," button."),l.a.createElement("div",null,l.a.createElement(i.a,{onClick:function(){X(a,e.amount,e.days,e.referral)},className:"btn-primary btn-hover-wise"},"Adjust Stake"),l.a.createElement(i.a,{className:"btn-neutral-dark ml-2",onClick:function(){!function(e){de((function(e){return sa("Create ".concat(e-1," Regular Stakes")),Ea("NORMAL"),e-1}));var a=Me.filter((function(a,t){return t===e}));Ve((function(e){return Object(b.a)(Object(b.a)({},We),{},{amount:e.amount-a[0].amount})})),Be((function(a){var t=a.filter((function(a,t){return t!==e})),n=Math.max.apply(Math,t.map((function(e){return e.days})));return Q(n),aa(n),t}))}(a)},disabled:!(me>2)},"Remove Stake"))),l.a.createElement("div",{className:"hidden"},e.main)))))})))),l.a.createElement(x.a,{item:!0,md:12,lg:12,className:"pt-0 text-center"},"DONE"===oa&&l.a.createElement("div",null,l.a.createElement("div",{onClick:function(){h.current&&(fa(null),Ea("NORMAL"))}},l.a.createElement(w.a,null)),l.a.createElement("div",null,l.a.createElement(g.b,{to:"/staking"},l.a.createElement(i.a,{className:"btn-primary my-2 py-3 px-4 w-100 font-weight-bold font-size-md text-uppercase"},"Open Staking Dashboard")))),l.a.createElement(i.a,{onClick:function(){var e=Me.map((function(e){return e.amount})),a=Me.map((function(e){return e.days})),n=Me.map((function(e){return p.utils.isAddress(e.referral)?e.referral:"0x641AD78BAca220C5BD28b51Ce8e0F495e85Fe689"}));if(e.includes(0))Ea("NO_AMOUNT");else if(a.includes(0))Ea("NO_DURATION");else if(n.includes(t))Ea("SELF_REFERRAL");else{var r=e.reduce((function(e,a){return e+a}),0);parseFloat(r)>parseFloat(P)?Ea("LESS_BALANCE"):Na()}},fullWidth:!0,disabled:ra||!t,className:Object(c.a)("btn-primary py-4 btn-hover-teal px-5 font-weight-bold font-size-xl",{hidden:"DONE"===oa})},l.a.createElement("span",null,t?oa:"WALLET NOT CONNECTED"),"Staking In Progress"===oa?l.a.createElement(v,{size:20}):null),da&&l.a.createElement("div",{className:"mt-3"},l.a.createElement("a",{href:"".concat(m.etherScan,"/tx/").concat(da),target:"_blank",rel:"noopener noreferrer"},"DONE"===oa?"Transaction Completed":"View Transaction",l.a.createElement(j.a,{className:"ml-1"})))))))),l.a.createElement(F.a,{maxWidth:"lg",open:ie,classes:{paper:"shadow-lg rounded"}},l.a.createElement(r.Suspense,{fallback:l.a.createElement("div",null)},l.a.createElement(ae,{adjustIndex:he,referralAddress:Te,stakingAmount:Se,stakingDuration:xe,adjustMode:!0,adjustStake:function(e,a,t,n){var r=Me.filter((function(a,t){return t===e}));Be((function(r){var l=Object(s.a)(r),c=Object(b.a)({},l[e]);c.amount=parseFloat(a),c.days=parseInt(t),c.referral=n,l[e]=c;var i=Math.max.apply(Math,l.map((function(e){return e.days})));return l.sort((function(e,a){var t=e.days,n=a.days;return t<n?-1:t>n?1:0})),Q(i),aa(i),l})),Ve((function(e){return Object(b.a)(Object(b.a)({},We),{},{amount:e.amount-r[0].amount+parseFloat(a)})}))},activeTab:"Regular",defaultCurrency:"WISE",closefunc:X,refresh:function(){},allowance:0}))))}var ce=t(131),ie=t(132);function oe(){var e=Object(N.b)().connector,a=l.a.useState(),t=Object(n.a)(a,2),s=t[0],u=t[1];Object(r.useEffect)((function(){s&&s===e&&u(void 0)}),[s,e]);var m=Object(ce.a)();Object(ie.a)(!m||!!s);var d=Object(r.useState)(!1),f=Object(n.a)(d,2),b=f[0],p=f[1],v=function(){return p(!b)};return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"d-block d-lg-flex app-inner-content-layout app-inner-content-layout-fixed"},l.a.createElement("div",{className:"btn-md-pane d-lg-none px-4 order-0"},l.a.createElement(i.a,{onClick:v,size:"large",className:"btn-primary p-0 btn-icon d-40"},l.a.createElement(o.a,{icon:["fas","bookmark"]}))),l.a.createElement("div",{className:Object(c.a)("app-inner-content-layout--main order-3 order-lg-2 card-box bg-secondary",{})},l.a.createElement(le,null)),l.a.createElement("div",{onClick:v,className:Object(c.a)("sidebar-inner-layout-overlay",{active:b})})))}},791:function(e,a,t){"use strict";var n=t(8),r=t(9),l=t(13),c=t(14),i=t(0),o=t.n(i),s=t(806),u=t(767),m=function(e){Object(l.a)(t,e);var a=Object(c.a)(t);function t(e){var r;Object(n.a)(this,t),(r=a.call(this,e)).processLike=function(){r.setState({isLiked:!0}),r.reward.rewardMe()};return r.state={classes:e.classes||"py-3 px-4 btn-wise w-100 text-uppercase",message:e.message||"DONE",emoji:e.emoji||["\ud83e\udd89","\ud83e\udd84","\ud83d\ude0a","\ud83d\udc4d","\ud83c\udf89","\ud83e\udd89","\ud83e\udd89"],isLiked:!1},r}return Object(r.a)(t,[{key:"componentDidMount",value:function(){this.reward.rewardMe()}},{key:"render",value:function(){var e=this;return o.a.createElement(o.a.Fragment,null,o.a.createElement(s.a,{ref:function(a){e.reward=a},type:"emoji",config:{emoji:this.state.emoji,springAnimation:!0,elementCount:10}},o.a.createElement(u.a,{size:"large",className:this.state.classes},o.a.createElement("span",{className:"font-weight-bold"},this.state.message))))}}]),t}(i.Component);a.a=m},808:function(e,a,t){"use strict";t.d(a,"a",(function(){return n}));var n=function(e){for(var a=e+"=",t=decodeURIComponent(document.cookie).split(";"),n=0;n<t.length;n++){for(var r=t[n];" "===r.charAt(0);)r=r.substring(1);if(0===r.indexOf(a))return r.substring(a.length,r.length)}return""}}}]);